<?xml version="1.0" encoding="UTF-8"?>
 <database name="propel" defaultIdMethod="native" noxsd="true">

   <table name="users" phpName="User">
     <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
     <column name="nickname" type="varchar" size="50" />
     <column name="email" type="varchar" size="255" />
     <column name="sha1_password" type="varchar" size="40" />
     <column name="salt" type="varchar" size="32" />
     <column name="remember_key" type="varchar" size="255" />
     <column name="first_name" type="varchar" size="100" />
     <column name="last_name" type="varchar" size="100" />
     <column name="created_at" type="timestamp" />
   </table>

   <table name="tags" phpName="Tag">
     <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
     <column name="tag" type="varchar" size="64" />
     <column name="stripped_tag" type="varchar" size="100" />
     <unique name="unique_stripped_tag">
      <unique-column name="stripped_tag" />
     </unique>
     <column name="created_by" type="integer" />
     <foreign-key foreignTable="users">
       <reference local="created_by" foreign="id"/>
     </foreign-key>
     <column name="created_at" type="timestamp" />
   </table>

   <table name="users_to_tags" phpName="UserToTag">
     <column name="users_id" type="integer" primaryKey="true" />
     <foreign-key foreignTable="users">
       <reference local="users_id" foreign="id"/>
     </foreign-key>
     <column name="tags_id" type="integer" primaryKey="true" />
     <foreign-key foreignTable="tags">
       <reference local="tags_id" foreign="id"/>
     </foreign-key>
     <column name="love" type="tinyint" size="1" />
     <column name="created_at" type="timestamp" />
   </table>

   <table name="tags_comments" phpName="TagComment">
     <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
     <column name="tags_id" type="integer" />
     <foreign-key foreignTable="tags">
       <reference local="tags_id" foreign="id"/>
     </foreign-key>
     <column name="users_id" type="integer" />
     <foreign-key foreignTable="users">
       <reference local="users_id" foreign="id"/>
     </foreign-key>
     <column name="body" type="longvarchar" />
    <column name="tree_left" type="integer"   required="true" /> 
    <column name="tree_right" type="integer"   required="true" /> 
    <column name="tree_parent" type="integer"   required="true" /> 
    <column name="scope" type="integer"   required="true" />
     <column name="created_at" type="timestamp" />
   </table>

 </database>